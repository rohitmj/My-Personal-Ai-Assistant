<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My AI Assistant</title>


  <link rel="stylesheet" href="style.css">


</head>

<body>

  <header class="header">
    <h1 class="logo">Hey Rohit, What's up?</h1>
  </header>

  <div class="chat-messages-area">

  </div>

  <div class="chatbar-container">
    <textarea id="chat-input" placeholder="Ask me anything..."></textarea>
    <button id="send-button" aria-label="Send message" disabled>
      <svg viewBox = "0 0 24 24" width="20" height="20" fill="currentColor">
          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
      </svg>
    </button>
  
  </div>

  <script>
    const input = document.getElementById('chat-input');
    const button = document.getElementById('send-button');

    // --- Core Functionality ---

    // 1. Initial State
    button.disabled = true;

    // 2. Input Event Listener (Handles Auto-Resize and Button State)
    input.addEventListener('input' , () => {
        // Auto-Resize Logic: Reset height, then set to scrollHeight
        input.style.height = 'auto';
        input.style.height = input.scrollHeight + 'px';

        // Button Disable Logic: Enable only if there's non-whitespace content
        const hasContent = input.value.trim().length > 0;
        button.disabled = !hasContent;

    });

    // 3. Keydown Event Listener (Handles Enter-to-Send)
      input.addEventListener('keydown', (event) => {
        // Check if the Enter key was pressed AND the Shift key was NOT pressed 
        if(event.key === 'Enter' && !event.shiftKey){
          event.preventDefault(); // <-- THIS IS CRUCIAL: Prevents the default "new line" behavior

          if(!button.disabled){
            sendMessage(); // Call the send function if the button is active
          }
        }
      });

      // 4. Click Event Listener (Handles Mouse Clicks)
      button.addEventListener('click', sendMessage);

      // ---Send Message Function ---
      function sendMessage(){
        const message = input.value.trim();
        if (message){
          console.log('Message sent:', message);

          // Post-send clean up
          input.value = '';
          input.style.height = "auto"; // Reset the textarea height
          button.disabled = true; // Disable the button again
        }
      }

  </script>

</body>
</html>
